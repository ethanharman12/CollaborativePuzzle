@model GameViewModel
@{
    ViewData["Title"] = Model.Title;
}
<link href="~/css/Puzzle.css" rel="stylesheet" />
<h1>@Model.Title</h1>

@Html.HiddenFor(m => m.GameId)
@Html.HiddenFor(m => m.NumberOfColumns)
@Html.HiddenFor(m => m.NumberOfRows)

<div>
    <section id="puzzleSection">
        <canvas id="puzzleCanvas" width="1000" height="800" style="float: left; margin: 0px 20px 20px 20px;">
        </canvas>
        <div>
            <div id="previewArea">
                @*<img id="previewImage" src="~/Images/fruity-pebbles.jpg" width="200" height="200" />
                    <img id="previewImage" src="@Model.ImagePath" width="200" height="200" />
                        <img id="previewImage" src="@Url.Content(Model.ImagePath)" width="200" height="200" />*@


                <img id="previewImage" src="@String.Format("data:image/png;base64,{0}", Model.ImageString)" @if (!Model.DisplayPreview) { <text>style="display:none"</text> } />
            </div>
            <div id="friendSection">
                <h2>Friends:</h2>
            </div>
        </div>
    </section>
</div>

@section Scripts {

    <script src="~/lib/lodash/lodash.min.js"></script>
    <script src="~/microsoft/signalr/dist/browser/signalr.js"></script>

    <script src="~/js/PuzzlePlay/GameArea.js"></script>
    <script src="~/js/PuzzlePlay/PuzzlePieceHolder.js"></script>
    <script src="~/js/PuzzlePlay/PuzzlePiece.js"></script>
    <script src="~/js/PuzzlePlay/PuzzleGame.js"></script>
    <script src="~/js/PuzzlePlay/ActiveGame.js"></script>
}